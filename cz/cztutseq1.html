<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="tutor.css" >
  <link rel="stylesheet" type="text/css" href="colors.css" >
  <title>Jak se naučit programovat: Jednoduché posloupnosti</title>
</head>
<body>

<h2>Jednoduché posloupnosti</h2>

<div class="whatcovered">
<p class="title">O čem si budeme povídat?</p>

<ul>
<li>Jednotlivé příkazy.</li>
<li>Použití Pythonu jako kalkulačky.</li>
<li>Používání závorek k dosažení správného výsledku.</li>
<li>Použití formátovacího řetězce pro tisk složitějšího výstupu.</li>
<li>Nakonec si ukážeme, jak můžeme Python ukončit zevnitř programu.</li>
</ul>
</div>

<p>Nejjednodušší program, který můžete napsat, se skládá z jednoduché
posloupnosti příkazů. Nejjednodušší posloupnost je taková, která obsahuje
jediný příkaz. Některé příkazy si teď vyzkoušíme. Nadpis bude říkat, co
máme napsat za vyzývacími znaky překladače '>>>&nbsp;' a následující
odstavec nám objasní, co se stane.</p>


<h4>>>> print 'Ahoj, vy tam!'</h4>

<p>Příkaz <code>print</code> zajistí, aby nám Python zobrazil výsledek na
orazovku. V tomto případě se tiskne posloupnost znaků <code>A</code>,
<code>h</code>, <code>o</code>, <code>j</code>, <code>,</code>,
<code>&nbsp;</code>, <code>v</code>, <code>y</code>, <code>&nbsp;</code>,
<code>t</code>, <code>a</code>, <code>m</code>, <code>!</code>. Takové
posloupnosti znaků se v programátorských kruzích říká <em>řetězec
znaků</em>, <em>znakový řetězec</em> nebo prostě jen <em>řetězec</em>.

<p>Řetězec zapisujeme mezi uvozovky. V Pythonu můžeme použít buď jednoduché
uvozovky (<span class="trnote" title="Poznámka překladatele">apostrofy,</span>
tak jako ve výše uvedeném případě), nebo dvojité uvozovky: "toto je
řetězec". Díky tomu můžeme do řetězce vložit jeden ze zmíněných znaků, pokud
pro ohraničení řetězce použijeme druhý z nich. Může se námto hodit například
v případech, kdy věta obsahuje apostrofy <span class="trnote"
title="Poznámka překladatele">(v anglických větách &mdash; viz ukázka
&mdash; je tento jev poměrně častý)</span>:</p>

<pre>
>>> print "Monty Python's Flying Circus has a ' within it..."
</pre>

<p>Ale tisknout nemusíme jen znaky:</p>

<h4>>>> print 6 + 5</h4>

<p>Zde jsme vytiskli výsledek aritmetické operace &mdash; sečetli jsme šest
a pět. Python rozpoznal zapsaná čísla a znak plus a zajistil sečtení čísel.
Zobrazí se výsledek součtu <span class="trnote" title="Poznámka překladatele"
>(tedy 11)</span>.</p>

<p>Python tedy můžeme využít jako kapesní kalkulačku. Vyzkoušejte si pár
dalších součtů. Vyzkoušejte si také další aritmetické operátory:</p>


<ul>
<li>odčítání (-)</li>
<li>násobení (*)</li>
<li>dělení (/)</li>
</ul>

<p>Vyzkoušejte si i kombinované výrazy, jako například:</p>

<pre>
>>> print ((8 * 4) + (7 - 3)) / (2 + 4)
</pre>

<p>Povšimněte si, jak byly pro vymezení podvýrazů použity závorky. Co by se
stalo, kdybychom napsali stejný výraz bez závorek? Python preferuje násobení
a dělení před sčítáním a odčítáním a proto by tedy uskutečnil tyto operace
jako první. V matematice je to běžné, ale u programovacích jazyků to nemusí
platit vždy. Všechny programovací jazyky definují pravidla, která určují
posloupnost vyhodnocování operací. Tato pravidla jsou známa pod pojmem
<em>priorita operátorů</em>. Pokud chcete přesně zjistit, jak bude výraz v
konkrétním jazyce vyhodnocován, musíte se podívat do jeho referenční
příručky. U jazyka Python je tomu většinou tak, jak bychom očekávali na
základě logiky a intuice. Ale občas je to trochu jinak&hellip;</p>

<p>Pokud pracujeme s dlouhými výrazy a chceme si být jistí, že dostaneme
výsledek podle našeho očekávání, pak bychom obecně měli použít závorek.</p>

<p>Další poznámka:</p>

<pre>
>>> print 5/2
</pre>

<p>výsledkem je celé číslo (integer) &mdash; v našem případě 2. Je to dáno
tím, že Python zjistil, že jste ve výrazu uvedli pouze celá čísla a
předpokládá, že chcete získat výsledek jako číslo stejného typu. <span
class="trnote" title="Poznámka překladatele">(Jinými slovy, operátor dělení
má celočíselné operandy, a proto Python předpokládá, že máte na mysli
celočíselné dělení.)</span> Pokud budeme chtít výsledek v podobě desetinného
čísla, zapište alespoň jeden z operandů v podobě desetinného čísla:</p>

<pre>
>>> print 5/2.0
2.5
</pre>

<p>Python našel zápis čísla 2.0 a zjistil, že nám práce s desetinnými čísly
nečiní problémy, takže nám vrátí výsledek v podobě desetinného čísla.
(Desetinná čísla se v souvislosti s programováním označují také jako
<em>reálná</em> čísla nebo čísla v <em>plovoucí řádové čárce</em>.) V
posledních verzích Pythonu můžete popsané chování změnit tak, aby výsledkem
dělení bylo vždy reálné číslo. Dosáhnete toho přidáním následujícího řádku
na začátek vašeho programu (povšimněte si, že kolem slova
<code>future</code> píšeme z obou stran dvojici znaků podtržení):</p>

<pre>
>>> from __future__ import division
</pre>

<p>Dá se očekávat, že tento způsob dělení se v některé z budoucích verzí
systému Python stane standardem. Prozatím musíme Pythonu říci, že toto
chování chceme zapnout.</p>

<p>Pokud byste chtěli zůstat u počítání v celých číslech, pak můžete získat
hodnotu zbytku po celočíselném dělení pomocí operátoru <code>%</code> <span
class="trnote" title="Poznámka překladatele">(znak procenta)</span>. Python
pak zobrazí tento zbytek.</p>

<pre>
>>> print 7/2
3
>>> print 7%2
1
>>> print 7%4
3</pre>

<p>Operátor <code>%</code> je znám pod názvem <em>modulo</em> nebo
<code>mod</code> a v jiných jazycích se často zapisuje jako <code>MOD</code>
nebo podobně.</p>

<p>Experimentujte a brzy vám bude jasné, o co jde.</p>


<h4>>>> print 'Soucet je: ', 23+45</h4>

<p>Již jsme si předvedli, že dokážeme tisknout řetězce a čísla. Nyní jsme oba
případy zkombinovali do jednoho příkazu pro tisk s tím, že jsme je oddělili
čáskou. Tento rys můžeme dále rozšířit o další trik jazyka Python pro výstup
dat, který se nazývá <em>formátovací řetězec</em>:</p>

<pre>
>>> print "Soucet cisla %d a cisla %d je: %d" % (7,18,7+18)
</pre>

<p>V tomto příkazu obsahuje formátovací řetězec uvnitř značky uvozené znakem
'%' (procento). Písmeno 'd' za % překladači jazyka Python říká, že zde má
být umístěno dekadické číslo <span class="trnote" title="Poznámka překladatele"
>(tj. celé číslo vyjádřené v desítkové řádové soustavě)</span>. Hodnoty,
které mají být dosazeny místo značek <span class="trnote"
title="Poznámka překladatele">uvnitř řetězce</span>, jsou získány z hodnot
uvnitř výrazu v závorkách, který následuje samostatně umístěný znak % <span
class="trnote" title="Poznámka překladatele">za formátovacím
řetězcem</span>.</p>

<p>Pro značky <span class="trnote" title="Poznámka překladatele">ve
formátovacím řetězci</span> lze použít i kombinace % s jinými znaky. Některé
z nich jsou uvedeny níže:</p>

<ul>
<li>%s - pro řetězec</li>
<li>%x - pro zápis čísla v hexadecimálním tvaru</li>
<li>%0.2f - pro zápis reálného čísla na dvě desetinná místa</li>
<li>%04d - pro zápis celého čísla doplněného zleva nulami na 4 pozice</li>
</ul>

<p>V příručce jazyka Python jich naleznete mnohem více&hellip;</p>

<p>Ve skutečnosti můžete v jazyce Python příkazem print vytisknout libovolný
<em>objekt</em>. Někdy výsledek neodpovídá tomu, co byste očekávali (někdy
se zobrazí jen popis, který říká, o jaký druh objektu jde), ale objekt
můžete vytisknout vždy.</p>

<h4>>>> import sys</h4>

<p>Tento příkaz je nějaký podivný. Pokud jste jej vyzkoušíte, uvidíte, že
zjevně nedělá vůbec nic. Ale ve skutečnosti to není pravda. Abychom
rozuměli tomu, co se děje, potřebujeme nahlédnout do architektury jazyka
Python. (Pokud programujete v jiném jazyce, mějte chvíli strpení. Určitě
používáte nějaký podobný mechanismus.).</p>

<p>Když Python spustíte, máte k dispozici skupinu příkazů, které jsou
označovány jako <em>zabudované</em> (built-in), protože jsou zabudovány
přímo do jádra překladače jazyka Python. Ale Python může rozšiřovat seznam
dostupných příkazů tím, že k jádru přičleňuje rozšiřující moduly. Trochu to
připomíná situaci, kdy si ve vašem oblíbeném obchodě <em>Udělej si sám</em>
koupíte nový nástroj a přidáte jej do své bedny s nářadím. Nástroj zde
představuj část příkazu <code>sys</code> a operace <code>import</code> jej
přidá k dosud užívaným nástrojům.</p>

<p>Ve skutečnosti tento příkaz zpřístupní celou skupinu nových 'nástrojů' v
podobě dalších příkazů jazyka Python, které jsou <span class="trnote"
title="Poznámka překladatele">ve výše uvedeném případě</span> definovány v
souboru 'sys.py'. Toto je tedy způsob, jakým lze Python rozšiřovat, aby uměl
provádět všechny možné důmyslné věci, které nejsou zabudovány do základního
systému. Můžete dokonce vytvořit své vlastní <em>moduly</em>, naimportovat
je (příkazem <code>import</code>) a potom je používat naprosto stejným
způsobem, jako se používají moduly, které jsou dodávané s instalací jazyka
Python.</p>

<p>Takže jak vlastně máme tyto nové nástroje používat?</p>

<h4>>>> sys.exit()</h4>

<p>Ale! Co se to stalo? Prostě jsme spustili příkaz <code>exit</code>, který
je definován v modulu <code>sys</code>. Tento příkaz způsobí ukončení práce
s interpretem jazyka Python. (<b>Poznámka:</b> Obvykle Python ukončujeme
tím, že za vyzývací posloupnost <code>>>></code> zadáme znak EOF (End Of
File &mdash; konec souboru) &mdash; v systému DOS je to znak <code>Ctrl-Z</code>,
v systému Unix je to znak <code>Ctrl-D</code>.)</p>

<p>Všimněte si, že za příkazem <code>exit</code> jsou uvedeny dvě závorky.
To proto, že se jedná o <em>funkci</em> definovanou v sys. A pokud v jazyce
Python voláme funkci, musíme závorky psát, i když v nich není nic uvedeno.</p>

<p>Zkuste napsat sys.exit bez závorek. Místo toho, aby Python funkci provedl,
zareaguje pouze výpisem sdělení, že exit je funkce.</p>

<p>A nakonec bychom si měli povšimnout, že poslední dva příkazy jsou ve
skutečnosti užitečné pouze v kombinaci. To znamená, že pokud chceme Python
ukončit jinak, než napsáním EOF, musíme napsat:</p>

<pre>
import sys
sys.exit()
</pre>

<p>A to je přece posloupnost dvou příkazů! Takže jsme se zase dostali o krůček
blíže k opravdovému programování&hellip;</p>

<h3>A teď v jazyce JavaScript</h3>

<p>Narozdíl od Pythonu nemůžeme při použití JavaScript zkoušet příkazy
tak, že bychom je jednoduše psali a pozorovali okamžité důsledky jejich
provedení. Příkazy ale můžeme vepsat do html souboru a ten zobrazit v
prohlížeči. Tím zjistíme, jak fungují:</p>

<pre>
&lt;html>&lt;body>
&lt;script type="text/javascript">
document.write('Hello there!&lt;br&gt;');
document.write("Monty Python's Flying Circus has a ' within it&lt;br&gt;");
document.write(6+5);
document.write("&lt;br&gt;");
document.write(  ((8 * 4) + (7 - 3)) / (2 + 4)  );
document.write("&lt;br&gt;");
document.write( 5/2 );
document.write("&lt;br&gt;");
document.write( 5 % 2 );
&lt;/script>
&lt;/body>&lt;/html>
</pre>

<p>Výsledek by měl vypadat takto:</p>

<pre>
Hello there!
Monty Python's Flying Circus has a ' within it
11
6
2.5
1
</pre>

<p>Povšimněte si, že přechody na nové řádky si musíme vynutit zápisem
<code>&lt;br&gt;</code>. Je to dáno tím, že JavaScript produkuje svůj výstup
v podobě HTML a formát HTML definuje, že se zobrazované řádky mají zalamovat
na takovou šířku, jakou dovolí okno prohlížeče. Abychom vynutili přechod na
nový řádek, musíme použít příslušný HTML symbol, kterým je právě
<code>&lt;br&gt;</code> <span class="trnote" title="Poznámka překladatele"
>(<code>br</code> z anglického <em>break</em> [brejk] &mdash;
zalomit)</span>.</p>


<h3>A ještě v jazyce VBScript&hellip;</h3>

<p>Podobně jako v případě JavaScript musíme i v případě VBScript vepsat
příkazy do souboru a otevřít jej v prohlížeči. V jazyce VBScript budou mít
příkazy z předchozího příkladu následující podobu:</p>

<pre>
&lt;html>&lt;body>
&lt;script type="text/vbscript">
MsgBox "Hello There!"
MsgBox "Monty Python's Flying Circus has a ' in it"
MsgBox 6 + 5
MsgBox ((8 * 4) + (7 - 3)) / (2 + 4)
MsgBox 5/2
MsgBox 5 MOD 2
&lt;/script>
&lt;/body>&lt;/html>
</pre>

<p>Výstupem by mělo být zobrazení dialogových oken, z nichž každé zobrazuje
výstup z jednoho řádku programu.</p>

<p>Zmiňme se ještě o jedné věci. Jazyk VBScript neumožňuje zápis řetězců v
apostrofech (v dalších tématech si ozřejmíme důvod). Uvnitř řetězce, který
musí být obklopen uvozovkami, můžeme apostrof normálně použít. Pokud ovšem
chceme do řetězce vložit uvozovky, musíme použít funkci <code>Chr()</code>,
která pro zadaný ASCII kód znaku vrací příslušný znak. Výsledný kód není
zrovna přehledný, ale následující příklad by měl ukázat, jak na to:</p>

<pre>
&lt;script type="text/vbscript">
Dim uv
uv = Chr(34)
MsgBox uv &amp; "Vypadni!" &amp; uv &amp; " zařval"
&lt;/script>
</pre>

<p>Pokud potřebujete zjistit ASCII kód pro libovoný znak, můžete ve Windows
použít aplikaci <em>Mapa znaků</em>. Můžete se také podívat na úvodní
stránku <a href="http://www.asciitable.com/">www.asciitable.com</a>, kde vás
bude <span class="trnote" title="Poznámka&nbsp;překladatele">(pro náš
účel)</span> zajímat dekadická hodnota kódu. Můžete použít i následující
kousek programu zapsaný v JavaScript a případně nahradit znak uvozovek tím
znakem, jehož kód vás zajímá:</p>

<pre>
&lt;script type="text/javascript">
var code, chr = '"';
code = chr.charCodeAt(0);
document.write("&lt;br&gt;ASCII kód znaku  " + chr + "  je " + code);
&lt;/script>
</pre>

<p>Nemusíte si lámat hlavu s tím, co to znamená. Ještě se k tomu dostaneme.
Prozatím skript prostě <em>použijte</em> v situaci, kdy budete chtít zjistit
ASCII kód hledaného znaku.</p>

<p>Náš první pohled na programování máme za sebou. Ani to moc nebolelo, že
ne? Než se pustíme dál, budeme se muset podívat na <em>suroviny</em>
využívané při programování &mdash; zejména na data a na to, co s nimi můžeme
dělat.</p>

<div class="remember">
<p class="title">Zapamatujte si</p>
<ul>
<li>Program se může skládat dokonce i z jediného příkazu.</li>

<li>Python provádí matematické operace <em>téměř</em> tím způsobem, který
byste očekávali.</li>

<li>Pokud chcete obdržet výsledek v podobě desetinného čísla, musíte použít
desetinné číslo i na vstupu.</li>

<li>Text a čísla můžete kombinovat při použití <span class="trnote"
title="Poznámka překladatele">formátovacího řetězce a</span> formátovacího
operátoru <code>%</code>.</li>

<li>Činnost lze ukončit napsáním <code>import sys; sys.exit()</code>.</li>
</ul>
</div>

<div class="foot">
<p class="navig">[
<a href="cztutstart.html" title="Začínáme">předchozí</a> |
<a href="cztutcont.html">obsah</a> |
<a href="cztutdata.html" title="Data, datové typy a proměnné">další</a>
]</p>
<p class="note">Pokud vás napadne, co by se dalo na překladu této kapitoly
vylepšit, zašlete e-mail odklepnutím

<script type="text/javascript">
var id = new String('$Id: cztutseq1.html,v 1.13 2005/10/20 20:52:34 petr Exp $');
var ma = new String('prikryl at skil dot cz');
ma = ma.replace(/ at /, '@');
ma = ma.replace(/ dot /, '.');
document.write('<a href="mailto:' + ma + '?subject=JNP2:%20poznamka'
               + '&body=Dokument:%20' + id.replace(/\s/g, '%20')
               + '%0d%0dPoznámky:%0d" '
               + 'title="Tento odkaz spustí váš program pro zasílání pošty."'
               + '>tohoto odkazu<' + '/a>.');
</script>

Tím budou do dopisu automaticky vloženy informace o tomto HTML dokumentu.</p>

<p class="cvs">$Id: cztutseq1.html,v 1.13 2005/10/20 20:52:34 petr Exp $</p>
</div>
</body>
</html>

